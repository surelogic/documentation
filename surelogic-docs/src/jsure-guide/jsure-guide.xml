<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"../../lib/docbook-xml-4.5/docbookx.dtd">

<book id="jsure-examples" lang="en-US"
    xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>JSure User Guide</title>
  <subtitle>How to use and configure the JSure Eclipse client</subtitle>
  <bookinfo>
    <copyright>
      <year>2015</year>
      <holder>SureLogic, Inc.</holder>
    </copyright>
    <legalnotice>
      <para>The authors and publishers have taken care in the
      preparation of this documentation, but make no expressed or
      implied warranty of any kind and assume no responsibility for
      errors and omissions. No liability is assumed for incidental or
      consequential damages in connection with or arising out of the use
      of the information or programs herein.</para>
    </legalnotice>
    <pubdate>Version 5.6.0&mdash;February 2015</pubdate>
  </bookinfo>

  <preface id="preface">
    <title>Preface</title>
    <section>
      <title>Audience</title>
      <para>This document is intended for Java developers who want to
      use the JSure tool within the Eclipse Java IDE. We assume
      that the reader understands both the Java programming language and
      the use of Eclipse for Java development.</para>
    </section>
    <section>
      <title>Contact information</title>
      <para>For technical support or other questions, please
      contact:</para>
      <para><email>support@surelogic.com</email></para>
      <para>5808 Forbes Avenue, Pittsburgh, PA 15217-1602</para>
    </section>
  </preface>

  <xi:include href="getting-started/chapter.xml"/>
  <xi:include href="reference/chapter.xml"/>

  <chapter>
    <title>Release notes</title>
    <para>For each release of JSure there are new and noteworthy
    features to try out, and known limitations to avoid or
    workaround. These are presented in the sections below for each
    released version of JSure.</para>
    
    	<section id="sec-jsure-release-5-5-2">
		<title>JSure version 5.5.2</title>
		<para>This section describes the 5.5.2 version of the JSure Eclipse
			client.
		</para>

		<section>
			<title>New and Noteworthy</title>
			<para>This section describes new and noteworthy features in this
				version of JSure.
			</para>
			<orderedlist>
				<listitem>
					<para>
						<emphasis>Tutorial about effective use of null reference annotations</emphasis>
						&mdash;
						The documentation has been updated to include a tutorial about using
						null reference annotations. The tutorial is in <xref linkend="nonnull"/>. This new
						tutorial is still a work in progress, but is
						far enough along to be interesting in the documentation for JSure.
					</para>
				</listitem>
			</orderedlist>
		</section>
	</section>
    
    	<section id="sec-jsure-release-5-5-1">
		<title>JSure version 5.5.1</title>
		<para>This section describes the 5.5.1 version of the JSure Eclipse
			client.
		</para>

		<section>
			<title>New and Noteworthy</title>
			<para>This section describes new and noteworthy features in this
				version of JSure.
			</para>
			<orderedlist>
				<listitem>
					<para>
						<emphasis>"Show only differences from the last scan" filter added to Verification Status view</emphasis>
						&mdash;
						The <guilabel>Verification Status</guilabel> view can now be
						set to filter out all results that have not changed since the
						prior scan. This can be helpful to focus attention on what is
						different.
					</para>
					<mediaobject>
							<imageobject>
								<imagedata fileref="images/release-notes-551-show-only-diffs.png" />
							</imageobject>
					</mediaobject>
				</listitem>
			</orderedlist>
		</section>
	</section>

	<section id="sec-jsure-release-5-5-0">
		<title>JSure version 5.5.0</title>
		<para>This section describes the 5.5.0 version of the JSure Eclipse
			client.
		</para>

		<section>
			<title>New and Noteworthy</title>
			<para>This section describes new and noteworthy features in this
				version of JSure.
			</para>
			<orderedlist>
				<listitem>
					<para>
						<emphasis>Less need to declare local variables and parameters as final</emphasis>
						&mdash;
						JSure now automatically checks if a local variable is effectively
						final and will
						treat the reference as if it is declared final. This
						reduces the need to manually declare local variables
						and parameters
						to be final.
					</para>
				</listitem>
				<listitem>
					<para>
						<emphasis>Java 8 virtual machine support</emphasis> &mdash;
						This release of JSure supports scanning Java 7 (and earlier) code with a
						Java 8 standard library and virtual machine. This version does not yet support
						scanning code in the Java 8 language (e.g., using lambdas, etc) this is currently
						in development and will be included in a future release.
					</para>
					<para>JSure can scan Java 8 projects in Eclipse if they contain only Java 7 source code.
					This makes the tool easier to use if a project is built at Java 8 level but doesn't
					really need it (perhaps because the default Eclipse JRE is Java 8).
					However, if JSure detects a Java 8 construct it cannot support
					it informs the user with the dialog shown below and cancels the scan.</para>
					<mediaobject>
							<imageobject>
								<imagedata fileref="images/release-notes-550-java8-notyet.png" />
							</imageobject>
					</mediaobject>
					<para>As noted above we are working on a release of JSure that includes complete Java 8 support.</para>
				</listitem>
			</orderedlist>
		</section>
	</section>
    
    
        <section id="sec-jsure-release-5-4-0">
		<title>JSure version 5.4.0</title>
		<para>This section describes the 5.4.0 version of the JSure Eclipse
			client.
		</para>

		<section>
			<title>New and Noteworthy</title>
			<para>This section describes new and noteworthy features in this
				version of JSure.
			</para>
			<orderedlist>
			<listitem><para>
			<emphasis>Casting references to @NonNull or @Nullable</emphasis>
						&mdash;
						A <code>Cast</code> utility has been added to the promises library Jar to allow
						"casting" a reference such that it can be assigned to a @NonNull reference or
						a @Nullable reference. This utility is most useful when dealing with partially initialized
						references during object construction (as shown in the example below), however it may
						also be needed when dealing with library or framework code outside your control.
					</para>
					<para>These casts are not checked by the tool, however the <code>Cast.toNonNull</code>
					includes a Java language <code>assert</code> that may be used to enable a runtime
					check. Java language assertions are usually enabled by passing "-ea" to the Java virtual
					machine.</para>
						<para>The screenshot below shows an example of a cast to non-null from the Javadoc for
						the <code>Cast</code> utility.
					<mediaobject>
							<imageobject>
								<imagedata fileref="images/release-notes-540-cast.png" />
							</imageobject>
					</mediaobject>
			</para>
			</listitem>
			</orderedlist>
		</section>
</section>
    
    <section id="sec-jsure-release-5-3-0">
		<title>JSure version 5.3.0</title>
		<para>This section describes the 5.3.0 version of the JSure Eclipse
			client.
		</para>

		<section>
			<title>New and Noteworthy</title>
			<para>This section describes new and noteworthy features in this
				version of JSure.
			</para>
			<orderedlist>
			<listitem><para>
			<emphasis>New Analysis-Enabled Metrics view</emphasis>
						&mdash;
						JSure now has a metrics view as described in <xref linkend="analysis-enabled-metrics-view" />.
						This view shows metrics collected during each scan of a codebase. These metrics
						can help answer questions about how much has been
						done to the codebase, how large it is, the scan performance, and so on.
						</para>
						</listitem>
			<listitem><para>
			<emphasis>@Raw annotation replaced with @Initialized</emphasis>
						&mdash;
						The confusing @Raw annotation has been replaced with @Initialized. Please see the Javadoc for @Initialized for further details on this change
						and proper use of the new annotation.
						</para>
						</listitem>
			<listitem><para>
			<emphasis>Scoped promise support for @NonNull, @Nullable, and @RegionEffects</emphasis>
						&mdash;
						It is now possible to "change the default" to non-null by using @Promise("@NonNull")
						at the package level. For example, to change all references to be non-null in the package
						com.stuff you would put the following in /com/stuff/package-info.java:
						<programlisting>@com.surelogic.Promise(&quot;@NonNull&quot;)
package com.stuff;</programlisting>
						Please see the Javadoc for @Promise for more examples of how to use this feature.
						</para>
						</listitem>
			</orderedlist>
		</section>
</section>
    
<section id="sec-jsure-release-5-1-0">
		<title>JSure version 5.1.0</title>
		<para>This section describes the 5.1.0 version of the JSure Eclipse
			client.
		</para>

		<section>
			<title>New and Noteworthy</title>
			<para>This section describes new and noteworthy features in this
				version of JSure.
			</para>
			<orderedlist>
			<listitem><para>
			<emphasis>Verification will timeout for &#64;NonNull, &#64;Raw, and &#64;Nullable annotations</emphasis>
						&mdash;
						Support for a timeout of the null value verifying analysis has been added in this release.
						This allows the user to better control how long a scan may take on a particular code base.
						Most tool users do not need to change the default timeout values in the tool. This capability
						is intended for advanced users on highly complex codebases.
						</para>
						</listitem>
			</orderedlist>
		</section>
    </section>
  </chapter>
</book>
