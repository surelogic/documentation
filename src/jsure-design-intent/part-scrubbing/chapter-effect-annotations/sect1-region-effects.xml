<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"../../../../lib/docbook-xml-4.5/docbookx.dtd">

<sect1>
  <title>Region Effect Declaration</title>

  <para>A method's effects on the state of the program are declared
  using the annotation
  
    <synopsis>
@RegionEffects("reads <optional><co id="read.targets"/><replaceable>readTarget<subscript>1</subscript></replaceable>, &hellip;, <replaceable>readTarget<subscript>n</subscript></replaceable></optional>
    <optional>; writes <co id="write.targets"/><replaceable>writeTarget<subscript>1</subscript></replaceable>, &hellip;, <replaceable>writeTarget<subscript>m</subscript></replaceable></optional>")        
    </synopsis>

    <calloutlist>
      <callout arearefs="read.targets">
        <para><replaceable>readTarget<subscript>i</subscript></replaceable> are targets;
        <replaceable>n</replaceable> &ge; 1.</para>
      </callout>
      <callout arearefs="write.targets">
        <para><replaceable>writeTarget<subscript>j</subscript></replaceable> are targets;
        <replaceable>m</replaceable>
        &ge; 1.</para>
      </callout>
    </calloutlist>

  The order of the <code>reads</code> and <code>writes</code> clauses
  does not matter. If there are no read or write effects, the respective
  clause may be omitted. If the method has no effects the appropriate
  annotation is

    <synopsis>
@RegionEffects("none")
    </synopsis>
  </para>
  
  <para>Thus the following are all legal effects annotations (assuming
  that their targets are legal):

    <simplelist>
      <member><code>@RegionEffects("none")</code></member>
      <member><code>@RegionEffects("reads this:Instance; writes p:Instance")</code></member>
      <member><code>@RegionEffects("writes this:Color, this:Location; reads this:Size")</code></member>
      <member><code>@RegionEffects("writes Instance")</code></member>
      <member><code>@RegionEffects("reads Instance")</code></member>
    </simplelist>
  </para>
  
  <sect2>
    <title>Constraints</title>
    
    <itemizedlist>
      <listitem>
        <formalpara>
          <title>The targets
          <replaceable>readTarget<subscript>i</subscript></replaceable> and
          <replaceable>writeTarget<subscript>i</subscript></replaceable>
          must be legal.</title>
          
          <para>The rules for legal targets are enumerated in the
          following subsections.</para>
        </formalpara>
      </listitem>
    </itemizedlist>
  </sect2>
</sect1>
